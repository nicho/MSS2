/*
 * Collapse plugin for jQuery
 * --
 * source: http://github.com/danielstocks/jQuery-Collapse/
 * site: http://webcloud.se/jQuery-Collapse
 *
 * @author Daniel Stocks (http://webcloud.se)
 * Copyright 2013, Daniel Stocks
 * Released under the MIT, BSD, and GPL Licenses.
 */(function(c){function f(a,b){b=b||{};var d=this,e=b.query||"\x3e :even";c.extend(d,{$el:a,options:b,sections:[],isAccordion:b.accordion||!1,db:b.persist?jQueryCollapseStorage(a[0].id):!1});d.states=d.db?d.db.read():[];d.$el.find(e).each(function(){var a=new g(c(this),d);d.sections.push(a);var b=d.states[a._index()];0===b&&a.$summary.removeClass("open");1===b&&a.$summary.addClass("open");a.$summary.hasClass("open")?a.open(!0):a.close(!0)});d.$el.on("click","[data-collapse-summary]",c.proxy(d.handleClick,
d))}function g(a,b){c.extend(this,{isOpen:!1,$summary:a.attr("data-collapse-summary","").wrapInner('\x3ca href\x3d"#"/\x3e'),$details:a.next(),options:b.options,parent:b})}f.prototype={handleClick:function(a){a.preventDefault();for(var b=this.sections,d=b.length;d--;)if(c.contains(b[d].$summary[0],a.target)){b[d].toggle();break}},open:function(a){if(isFinite(a))return this.sections[a].open();c.each(this.sections,function(){this.open()})},close:function(a){if(isFinite(a))return this.sections[a].close();
c.each(this.sections,function(){this.close()})}};g.prototype={toggle:function(){this.isOpen?this.close():this.open()},close:function(a){this._changeState("close",a)},open:function(a){this.options.accordion&&!a&&c.each(this.parent.sections,function(){this.close()});this._changeState("open",a)},_index:function(){return c.inArray(this,this.parent.sections)},_changeState:function(a,b){this.isOpen="open"==a;c.isFunction(this.options[a])&&!b?this.options[a].apply(this.$details):this.isOpen?this.$details.show():
this.$details.hide();this.$summary.removeClass("open close").addClass(a);this.$details.attr("aria-hidden","close"==a);this.parent.$el.trigger(a,this);this.parent.db&&this.parent.db.write(this._index(),this.isOpen)}};c.fn.extend({collapse:function(a,b){return(b?c("body").find("[data-collapse]"):c(this)).each(function(){var d=b?{}:a,e=c(this).attr("data-collapse")||"";c.each(e.split(" "),function(a,b){b&&(d[b]=!0)});new jQueryCollapse(c(this),d)})}});c(function(){c.fn.collapse(!1,!0)});jQueryCollapse=
f})(window.jQuery);
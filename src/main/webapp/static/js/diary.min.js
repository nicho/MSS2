function cleanPersonMulitple(){$("#userGroupStr").val("");$("#userGroup").val("")}function trim(a){return a.replace(/(^\s*)|(\s*$)/g,"")}
function personSetMulitple(a,e){if(null!=a&&""!=a){var c="",b=$("#userGroupStr").val(),d=[];if(""!=b)for(d=b.split(","),b=0;b<d.length;b++)null!=d[b]&&""!=d[b]&&-1==a.indexOf(trim(d[b])+",")&&(c+=d[b]+",");var d="",b=$("#userGroup").val(),f=[];if(""!=b)for(f=b.split(","),b=0;b<f.length;b++)null!=f[b]&&""!=f[b]&&-1==e.indexOf(trim(f[b])+",")&&(d+=f[b]+",");$("#userGroupStr").val(c+a);$("#userGroup").val(d+e)}}
function parseISO8601(a){var e=new Date(NaN),c=/^\s*(\d{4})-(\d\d)-(\d\d)\s*$/.exec(a);c&&(a=+c[2],e.setFullYear(c[1],a-1,c[3]),a!=e.getMonth()+1&&e.setTime(NaN));return e}function personSet(a,e,c,b,d,f,g,h,k){""==a&&(a="0");""==d&&(d="0");""==g&&(g="0");""==h&&(h="0");$("#personId").val(a);$("#userName").val(e);$("#ouOrganizationId").val(h);$("#hrOrganizationId").val(c);$("#deparment").val(b+"/"+f);$("#positionId").val(d);$("#positionName").val(f);$("#jobId").val(g);setDefaultTitle()}
function closeDialog(){$("#wDialog").window("close")}function getDiaryWeek(){$.ajax({type:"post",async:!1,dataType:"json",url:"getDiaryWeek.do?diaryTimeStr\x3d"+$("#diaryTimeStr").val(),success:function(a){$("#weekLabel").html(a.diaryWeekStr);$("#diaryWeek").val(a.diaryWeek);$("#diaryYear").val(a.diaryYear);setDefaultTitle()}})}
function setDefaultTitle(){var a=$("#userName").val(),e=$("#positionName").val(),c=$("#diaryTimeStr").val();$("#diaryTempleId option:selected").text();var b="\u661f\u671f\u65e5 \u661f\u671f\u4e00 \u661f\u671f\u4e8c \u661f\u671f\u4e09 \u661f\u671f\u56db \u661f\u671f\u4e94 \u661f\u671f\u516d".split(" "),d=null,d="undefined"!=typeof c?parseISO8601(c):new Date,f=$("#templeTypeName").val(),g=$("#diaryTypeCode").val(),h=$("#weekLabel").text();"DIARY_WEEK"==g?$("#diaryTitle").val(a+"("+e+") "+h+" "+f):"DIARY_DAY"==
g?$("#diaryTitle").val(a+"("+e+") "+c+" "+b[d.getDay()]+" "+f):"DIARY_MONTH"==g&&(c=c.split("-"),c=c[0]+"\u5e74"+c[1]+"\u6708",$("#diaryTitle").val(a+"("+e+") "+c+" "+f))}function linkSendMessage(){$.ajax({type:"post",async:!1,dataType:"json",url:"getDairyTime.do",success:function(a){}})};